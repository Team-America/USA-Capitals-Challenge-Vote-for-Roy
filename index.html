<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USA Capitals Spelling Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 3s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.2; }
            100% { opacity: 1; }
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), 0 0 30px #ff0080;
            width: 100%;
            max-width: 900px;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header {
            margin-bottom: 25px;
            position: relative;
        }

        h1 {
            color: #1a2a6c;
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0 #ffcc00;
            letter-spacing: 2px;
        }

        .subtitle {
            color: #b21f1f;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            background: linear-gradient(45deg, #1a2a6c, #b21f1f);
            padding: 15px;
            border-radius: 15px;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .player {
            flex: 1;
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .player.active {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
            box-shadow: 0 0 15px #ffcc00;
        }

        .player-1 {
            color: #4dff4d;
        }

        .player-2 {
            color: #4db8ff;
        }

        .score {
            font-size: 2rem;
            margin-top: 5px;
        }

        .timer-container {
            background: #ff0080;
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 1.8rem;
            font-weight: bold;
            margin: 0 20px;
            min-width: 120px;
            box-shadow: 0 0 15px #ff0080;
        }

        .round-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 1.3rem;
            color: white;
            background: linear-gradient(45deg, #ff0080, #ffcc00);
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .game-area {
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            border: 3px solid #1a2a6c;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .question {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #1a2a6c;
            font-weight: bold;
        }

        .hint {
            font-size: 1.3rem;
            color: #b21f1f;
            margin-bottom: 20px;
            font-style: italic;
        }

        .word-display {
            font-size: 3rem;
            letter-spacing: 10px;
            margin: 30px 0;
            color: #1a2a6c;
            font-weight: bold;
            min-height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .input-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
        }

        .word-input {
            padding: 15px;
            font-size: 1.5rem;
            border: 3px solid #1a2a6c;
            border-radius: 10px;
            width: 350px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            font-weight: bold;
            color: #1a2a6c;
        }

        .submit-btn {
            background: linear-gradient(45deg, #ff0080, #ff6600);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(255, 0, 128, 0.4);
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 0, 128, 0.6);
        }

        .feedback {
            margin-top: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            min-height: 40px;
            padding: 10px;
            border-radius: 10px;
        }

        .correct {
            color: #00cc00;
            background: rgba(0, 255, 0, 0.1);
        }

        .incorrect {
            color: #ff0000;
            background: rgba(255, 0, 0, 0.1);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .start-btn {
            background: linear-gradient(45deg, #00cc00, #00ff88);
            color: white;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 204, 0, 0.4);
        }

        .next-btn {
            background: linear-gradient(45deg, #ffcc00, #ffff00);
            color: #333;
        }

        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 204, 0, 0.4);
        }

        .reset-btn {
            background: linear-gradient(45deg, #ff3333, #ff0066);
            color: white;
        }

        .reset-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 51, 51, 0.4);
        }

        .sound-btn {
            background: linear-gradient(45deg, #0099ff, #00ccff);
            color: white;
        }

        .sound-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 153, 255, 0.4);
        }

        .round-summary {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border: 3px solid #ffcc00;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .round-title {
            font-size: 1.8rem;
            color: #ff0080;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .prize-message {
            font-size: 1.5rem;
            color: #b21f1f;
            margin: 15px 0;
            font-weight: bold;
        }

        .game-over {
            font-size: 2.5rem;
            color: #ff0080;
            margin: 20px 0;
            text-shadow: 2px 2px 0 #ffcc00;
        }

        .winner {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #1a2a6c;
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            opacity: 0;
            z-index: 1000;
        }

        @media (max-width: 600px) {
            .game-info {
                flex-direction: column;
                gap: 10px;
            }
            
            .timer-container {
                margin: 10px 0;
            }
            
            .word-input {
                width: 100%;
            }
            
            .input-container {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <div class="header">
            <h1>USA Capitals Challenge</h1>
            <div class="subtitle">Vote for Roy Timmons Oklahoma State Representative!</div>
        </div>
        
        <div class="round-info">
            <div class="round">Round: <span id="round-number">1</span>/5</div>
            <div class="question-count">Question: <span id="question-number">1</span>/10</div>
        </div>
        
        <div class="game-info">
            <div class="player player-1">
                Player 1
                <div class="score">0</div>
            </div>
            
            <div class="timer-container">
                Time: <span id="timer">30</span>s
            </div>
            
            <div class="player player-2">
                Player 2
                <div class="score">0</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="question" id="question">Welcome to the USA Capitals Challenge!</div>
            <div class="hint" id="hint"></div>
            <div class="word-display" id="word-display"></div>
            
            <div class="input-container">
                <input type="text" class="word-input" placeholder="Type the capital name" id="word-input">
                <button class="submit-btn" id="submit-btn">Submit</button>
            </div>
            
            <div class="feedback" id="feedback"></div>
        </div>
        
        <div id="round-summary" class="round-summary hidden">
            <div class="round-title">Round <span id="summary-round">1</span> Complete!</div>
            <div id="round-scores"></div>
            <div class="prize-message" id="prize-message"></div>
        </div>
        
        <div class="controls">
            <button id="start-btn" class="btn start-btn">Start Game</button>
            <button id="next-btn" class="btn next-btn hidden">Next Question</button>
            <button id="next-round-btn" class="btn next-btn hidden">Next Round</button>
            <button id="reset-btn" class="btn reset-btn hidden">New Game</button>
            <button id="sound-btn" class="btn sound-btn">Sound: ON</button>
        </div>
    </div>

    <audio id="background-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Game data - 50 state capitals
        const capitals = [
            { capital: "Montgomery", state: "Alabama" },
            { capital: "Juneau", state: "Alaska" },
            { capital: "Phoenix", state: "Arizona" },
            { capital: "Little Rock", state: "Arkansas" },
            { capital: "Sacramento", state: "California" },
            { capital: "Denver", state: "Colorado" },
            { capital: "Hartford", state: "Connecticut" },
            { capital: "Dover", state: "Delaware" },
            { capital: "Tallahassee", state: "Florida" },
            { capital: "Atlanta", state: "Georgia" },
            { capital: "Honolulu", state: "Hawaii" },
            { capital: "Boise", state: "Idaho" },
            { capital: "Springfield", state: "Illinois" },
            { capital: "Indianapolis", state: "Indiana" },
            { capital: "Des Moines", state: "Iowa" },
            { capital: "Topeka", state: "Kansas" },
            { capital: "Frankfort", state: "Kentucky" },
            { capital: "Baton Rouge", state: "Louisiana" },
            { capital: "Augusta", state: "Maine" },
            { capital: "Annapolis", state: "Maryland" },
            { capital: "Boston", state: "Massachusetts" },
            { capital: "Lansing", state: "Michigan" },
            { capital: "St. Paul", state: "Minnesota" },
            { capital: "Jackson", state: "Mississippi" },
            { capital: "Jefferson City", state: "Missouri" },
            { capital: "Helena", state: "Montana" },
            { capital: "Lincoln", state: "Nebraska" },
            { capital: "Carson City", state: "Nevada" },
            { capital: "Concord", state: "New Hampshire" },
            { capital: "Trenton", state: "New Jersey" },
            { capital: "Santa Fe", state: "New Mexico" },
            { capital: "Albany", state: "New York" },
            { capital: "Raleigh", state: "North Carolina" },
            { capital: "Bismarck", state: "North Dakota" },
            { capital: "Columbus", state: "Ohio" },
            { capital: "Oklahoma City", state: "Oklahoma" },
            { capital: "Salem", state: "Oregon" },
            { capital: "Harrisburg", state: "Pennsylvania" },
            { capital: "Providence", state: "Rhode Island" },
            { capital: "Columbia", state: "South Carolina" },
            { capital: "Pierre", state: "South Dakota" },
            { capital: "Nashville", state: "Tennessee" },
            { capital: "Austin", state: "Texas" },
            { capital: "Salt Lake City", state: "Utah" },
            { capital: "Montpelier", state: "Vermont" },
            { capital: "Richmond", state: "Virginia" },
            { capital: "Olympia", state: "Washington" },
            { capital: "Charleston", state: "West Virginia" },
            { capital: "Madison", state: "Wisconsin" },
            { capital: "Cheyenne", state: "Wyoming" }
        ];

        // Prizes for each round
        const prizes = [
            "A virtual gold medal and bragging rights!",
            "A virtual trophy and a round of applause!",
            "A virtual crown and the title of Capital Master!",
            "A virtual trophy and a fireworks display!",
            "The grand prize: Virtual Champion of USA Capitals!"
        ];

        // Game state
        let currentPlayer = 1;
        let player1Score = 0;
        let player2Score = 0;
        let roundScores = {1: {player1: 0, player2: 0}, 2: {player1: 0, player2: 0}, 3: {player1: 0, player2: 0}, 4: {player1: 0, player2: 0}, 5: {player1: 0, player2: 0}};
        let timer;
        let timeLeft = 30;
        let currentQuestionIndex = 0;
        let currentRound = 1;
        let gameActive = false;
        let soundOn = true;

        // DOM elements
        const player1Element = document.querySelector('.player-1');
        const player2Element = document.querySelector('.player-2');
        const player1ScoreElement = document.querySelector('.player-1 .score');
        const player2ScoreElement = document.querySelector('.player-2 .score');
        const timerElement = document.getElementById('timer');
        const questionElement = document.getElementById('question');
        const hintElement = document.getElementById('hint');
        const wordDisplayElement = document.getElementById('word-display');
        const wordInputElement = document.getElementById('word-input');
        const feedbackElement = document.getElementById('feedback');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const nextRoundBtn = document.getElementById('next-round-btn');
        const resetBtn = document.getElementById('reset-btn');
        const soundBtn = document.getElementById('sound-btn');
        const submitBtn = document.getElementById('submit-btn');
        const roundNumberElement = document.getElementById('round-number');
        const questionNumberElement = document.getElementById('question-number');
        const roundSummaryElement = document.getElementById('round-summary');
        const summaryRoundElement = document.getElementById('summary-round');
        const roundScoresElement = document.getElementById('round-scores');
        const prizeMessageElement = document.getElementById('prize-message');
        const backgroundMusic = document.getElementById('background-music');
        const starsContainer = document.getElementById('stars');

        // Create stars for background
        function createStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = `${Math.random() * 3 + 1}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 5}s`;
                starsContainer.appendChild(star);
            }
        }

        // Initialize game
        function initGame() {
            player1Score = 0;
            player2Score = 0;
            currentPlayer = 1;
            currentQuestionIndex = 0;
            currentRound = 1;
            roundScores = {1: {player1: 0, player2: 0}, 2: {player1: 0, player2: 0}, 3: {player1: 0, player2: 0}, 4: {player1: 0, player2: 0}, 5: {player1: 0, player2: 0}};
            updateScores();
            updatePlayerIndicator();
            updateRoundInfo();
            startBtn.classList.remove('hidden');
            nextBtn.classList.add('hidden');
            nextRoundBtn.classList.add('hidden');
            resetBtn.classList.add('hidden');
            roundSummaryElement.classList.add('hidden');
            feedbackElement.textContent = '';
            wordInputElement.value = '';
            questionElement.textContent = 'Welcome to the USA Capitals Challenge!';
            hintElement.textContent = '';
            wordDisplayElement.textContent = '';
            gameActive = false;
            clearInterval(timer);
            timerElement.textContent = '30';
        }

        // Start the game
        function startGame() {
            gameActive = true;
            startBtn.classList.add('hidden');
            nextBtn.classList.remove('hidden');
            resetBtn.classList.remove('hidden');
            
            // Start music if sound is on
            if (soundOn) {
                backgroundMusic.play().catch(e => console.log("Audio play failed:", e));
            }
            
            loadQuestion();
        }

        // Load a question
        function loadQuestion() {
            if (currentQuestionIndex >= 10) {
                endRound();
                return;
            }

            const capitalIndex = (currentRound - 1) * 10 + currentQuestionIndex;
            const capital = capitals[capitalIndex];
            
            // Create obscured version of capital name
            const obscuredName = createObscuredName(capital.capital);
            
            questionElement.textContent = `Player ${currentPlayer}, spell this capital:`;
            hintElement.textContent = `Hint: Capital of ${capital.state}`;
            wordDisplayElement.textContent = obscuredName;
            wordInputElement.value = '';
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            
            // Reset timer
            timeLeft = 30;
            timerElement.textContent = timeLeft;
            
            // Clear previous timer
            clearInterval(timer);
            
            // Start new timer
            timer = setInterval(updateTimer, 1000);
            
            // Update question number
            questionNumberElement.textContent = currentQuestionIndex + 1;
            
            // Focus on input
            wordInputElement.focus();
        }

        // Create obscured capital name
        function createObscuredName(capitalName) {
            const words = capitalName.split(' ');
            let result = '';
            
            for (let word of words) {
                if (result) result += '   ';
                
                if (word.length <= 3) {
                    // Show all letters for short words
                    result += word.split('').join(' ');
                } else {
                    // For longer words, hide some letters
                    const letters = word.split('');
                    const visibleCount = Math.max(2, Math.floor(letters.length / 3));
                    
                    // Create array of indices to keep visible
                    const visibleIndices = new Set();
                    
                    // Always show first and last letter
                    visibleIndices.add(0);
                    visibleIndices.add(letters.length - 1);
                    
                    // Add some random visible letters
                    while (visibleIndices.size < visibleCount && visibleIndices.size < letters.length) {
                        const randomIndex = Math.floor(Math.random() * letters.length);
                        visibleIndices.add(randomIndex);
                    }
                    
                    // Build the obscured word
                    for (let i = 0; i < letters.length; i++) {
                        if (i > 0) result += ' ';
                        if (visibleIndices.has(i)) {
                            result += letters[i];
                        } else {
                            result += '_';
                        }
                    }
                }
            }
            
            return result;
        }

        // Update timer
        function updateTimer() {
            timeLeft--;
            timerElement.textContent = timeLeft;
            
            if (timeLeft <= 0) {
                clearInterval(timer);
                feedbackElement.textContent = 'Time\'s up! You lost your turn.';
                feedbackElement.className = 'feedback incorrect';
                setTimeout(nextQuestion, 2000);
            }
        }

        // Check answer
        function checkAnswer() {
            if (!gameActive) return;
            
            clearInterval(timer);
            const capitalIndex = (currentRound - 1) * 10 + currentQuestionIndex;
            const capital = capitals[capitalIndex];
            const userAnswer = wordInputElement.value.trim().toLowerCase();
            const correctAnswer = capital.capital.toLowerCase();
            const isCorrect = userAnswer === correctAnswer;
            
            if (isCorrect) {
                feedbackElement.textContent = 'Correct! +10 points!';
                feedbackElement.className = 'feedback correct';
                updateScore(10);
                createConfetti();
            } else {
                feedbackElement.textContent = `Incorrect. The correct answer is: ${capital.capital}`;
                feedbackElement.className = 'feedback incorrect';
            }
            
            gameActive = false;
            setTimeout(nextQuestion, 2000);
        }

        // Update score
        function updateScore(points) {
            if (currentPlayer === 1) {
                player1Score += points;
                roundScores[currentRound].player1 += points;
            } else {
                player2Score += points;
                roundScores[currentRound].player2 += points;
            }
            updateScores();
        }

        // Update score display
        function updateScores() {
            player1ScoreElement.textContent = player1Score;
            player2ScoreElement.textContent = player2Score;
        }

        // Update round info
        function updateRoundInfo() {
            roundNumberElement.textContent = currentRound;
        }

        // Switch to next player
        function switchPlayer() {
            currentPlayer = currentPlayer === 1 ? 2 : 1;
            updatePlayerIndicator();
        }

        // Update player indicator
        function updatePlayerIndicator() {
            if (currentPlayer === 1) {
                player1Element.classList.add('active');
                player2Element.classList.remove('active');
            } else {
                player2Element.classList.add('active');
                player1Element.classList.remove('active');
            }
        }

        // Move to next question
        function nextQuestion() {
            currentQuestionIndex++;
            switchPlayer();
            gameActive = true;
            loadQuestion();
        }

        // End the round
        function endRound() {
            gameActive = false;
            clearInterval(timer);
            
            // Show round summary
            roundSummaryElement.classList.remove('hidden');
            summaryRoundElement.textContent = currentRound;
            
            let roundScoreHTML = `
                <div>Player 1: ${roundScores[currentRound].player1} points</div>
                <div>Player 2: ${roundScores[currentRound].player2} points</div>
                <div style="margin-top: 10px; font-weight: bold;">
            `;
            
            let roundWinner = '';
            if (roundScores[currentRound].player1 > roundScores[currentRound].player2) {
                roundWinner = 'Player 1';
                roundScoreHTML += 'Player 1 wins this round!';
            } else if (roundScores[currentRound].player2 > roundScores[currentRound].player1) {
                roundWinner = 'Player 2';
                roundScoreHTML += 'Player 2 wins this round!';
            } else {
                roundWinner = 'Both players';
                roundScoreHTML += "It's a tie this round!";
            }
            
            roundScoreHTML += '</div>';
            roundScoresElement.innerHTML = roundScoreHTML;
            
            // Show prize message
            prizeMessageElement.textContent = `${roundWinner} wins ${prizes[currentRound - 1]}`;
            
            questionElement.textContent = `Round ${currentRound} Complete!`;
            hintElement.textContent = '';
            wordDisplayElement.textContent = '';
            wordInputElement.value = '';
            feedbackElement.textContent = '';
            nextBtn.classList.add('hidden');
            
            if (currentRound < 5) {
                nextRoundBtn.classList.remove('hidden');
            } else {
                endGame();
            }
        }

        // Start next round
        function nextRound() {
            currentRound++;
            currentQuestionIndex = 0;
            roundSummaryElement.classList.add('hidden');
            nextRoundBtn.classList.add('hidden');
            nextBtn.classList.remove('hidden');
            updateRoundInfo();
            gameActive = true;
            loadQuestion();
        }

        // End the game
        function endGame() {
            gameActive = false;
            clearInterval(timer);
            
            let winnerText = '';
            if (player1Score > player2Score) {
                winnerText = 'Player 1 wins the game!';
            } else if (player2Score > player1Score) {
                winnerText = 'Player 2 wins the game!';
            } else {
                winnerText = "It's a tie!";
            }
            
            questionElement.innerHTML = `
                <div class="game-over">Game Over!</div>
                <div class="winner">${winnerText}</div>
                <div>Final Scores:</div>
                <div>Player 1: ${player1Score}</div>
                <div>Player 2: ${player2Score}</div>
            `;
            
            hintElement.textContent = '';
            wordDisplayElement.textContent = '';
            wordInputElement.value = '';
            feedbackElement.textContent = '';
            nextBtn.classList.add('hidden');
            nextRoundBtn.classList.add('hidden');
            
            createConfetti();
        }

        // Toggle sound
        function toggleSound() {
            soundOn = !soundOn;
            if (soundOn) {
                soundBtn.textContent = "Sound: ON";
                backgroundMusic.play().catch(e => console.log("Audio play failed:", e));
            } else {
                soundBtn.textContent = "Sound: OFF";
                backgroundMusic.pause();
            }
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = `${Math.random() * 100}%`;
                confetti.style.top = `${Math.random() * 100}%`;
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                document.body.appendChild(confetti);
                
                // Animate confetti
                const animation = confetti.animate([
                    { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                    { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: 2000 + Math.random() * 3000,
                    easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                });
                
                // Remove confetti after animation
                animation.onfinish = () => {
                    confetti.remove();
                };
            }
        }

        // Event listeners
        startBtn.addEventListener('click', startGame);
        nextBtn.addEventListener('click', nextQuestion);
        nextRoundBtn.addEventListener('click', nextRound);
        resetBtn.addEventListener('click', initGame);
        soundBtn.addEventListener('click', toggleSound);
        submitBtn.addEventListener('click', checkAnswer);
        wordInputElement.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // Initialize the game when page loads
        window.onload = function() {
            initGame();
            createStars();
        };
    </script>
</body>
</html>
